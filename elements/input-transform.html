<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/core-ajax/core-ajax.html">

<polymer-element name="input-transform" attributes="valueObj spec">
    <template>
        <template id="transTpl">
            <div horizontal layout>
                <div flex one>
                    <label>translate</label>
                </div>
                <div flex three>
                    <div horizontal layout>
                        <input id="transX" size=23 value="{{m.x}}" on-input="{{updateVal}}">
                        <label>x</label>
                    </div>
                    <div horizontal layout>
                        <input id="transY" size=23 value="{{m.y}}" on-input="{{updateVal}}">
                        <label>y</label>
                    </div>
                </div>
                <div flex two>
                    <button on-click="{{swapUp}}">⬆</button>
                    <button on-click="{{swapDown}}">⬇</button>
                    <button on-click="{{remVal}}">-</button>
                </div>
            </div>
        </template>

        <template id="scaleTpl">
            <div horizontal layout>
                <div flex one>
                    <label>scale</label>
                </div>
                <div flex three>
                    <div horizontal layout>
                        <input id="scaleX" size=23 value="{{m.x}}" on-input="{{updateVal}}">
                        <label>x</label>
                    </div>
                    <div horizontal layout>
                        <input id="scaleY" size=23 value="{{m.y}}" on-input="{{updateVal}}">
                        <label>y</label>
                    </div>
                </div>
                <div flex two>
                    <button on-click="{{swapUp}}">⬆</button>
                    <button on-click="{{swapDown}}">⬇</button>
                    <button on-click="{{remVal}}">-</button>
                </div>
            </div>
        </template>

        <template id="rotTpl">
            <div horizontal layout>
                <div flex one>
                    <label>rotate</label>
                </div>
                <div flex three>
                    <div horizontal layout>
                        <input id="rotA" size=23 value="{{m.r}}" on-input="{{updateVal}}">
                        <label>a</label>
                    </div>
                    <div horizontal layout>
                        <input id="rotX" size=23 value="{{m.x}}" on-input="{{updateVal}}">
                        <label>x</label>
                    </div>
                    <div horizontal layout>
                        <input id="rotY" size=23 value="{{m.y}}" on-input="{{updateVal}}">
                        <label>y</label>
                    </div>
                </div>
                <div flex two>
                    <button on-click="{{swapUp}}">⬆</button>
                    <button on-click="{{swapDown}}">⬇</button>
                    <button on-click="{{remVal}}">-</button>
                </div>
            </div>
        </template>

        <template id="skewXTpl">
            <div horizontal layout>
                <div flex one>
                    <label>skew</label>
                </div>
                <div horizontal layout>
                    <div flex three>
                        <input id="skewX" size=23 value="{{m.x}}" on-input="{{updateVal}}">
                        <label>x</label>
                    </div>
                </div>
                <div flex two>
                    <button on-click="{{swapUp}}">⬆</button>
                    <button on-click="{{swapDown}}">⬇</button>
                    <button on-click="{{remVal}}">-</button>
                </div>
            </div>
        </template>

        <template id="skewYTpl">
            <div horizontal layout>
                <div flex one>
                    <label>skew</label>
                </div>
                <div horizontal layout>
                    <div flex three>
                        <input id="skewY" size=23 value="{{m.y}}" on-input="{{updateVal}}">
                        <label>y</label>
                    </div>
                </div>
                <div flex two>
                    <button on-click="{{swapUp}}">⬆</button>
                    <button on-click="{{swapDown}}">⬇</button>
                    <button on-click="{{remVal}}">-</button>
                </div>
            </div>
        </template>

        <button on-click="{{plusTranslate}}">+ xlt</button>
        <button on-click="{{plusScale}}">+ scl</button>
        <button on-click="{{plusRotate}}">+ rot</button>
        <button on-click="{{plusSkewX}}">+ skX</button>
        <button on-click="{{plusSkewY}}">+ skY</button>

        <div id="container" vertical layout style="border-style: solid; border-width: 1px;">

            <template repeat="{{m in spec}}">
                <template if="{{m.type == 'trans'}}" ref="transTpl"></template>
                <template if="{{m.type == 'scale'}}" ref="scaleTpl"></template>
                <template if="{{m.type == 'rot'}}" ref="rotTpl"></template>
                <template if="{{m.type == 'skewX'}}" ref="skewXTpl"></template>
                <template if="{{m.type == 'skewY'}}" ref="skewYTpl"></template>
            </template>

        </div>
    </template>
    <script src="input-transform.js"></script>
</polymer-element>
